var slide=function(a){var b=baidu.g(a.content);this.options=a;this.speed=a.speed||10;this.dir="left";this.scrollNum=a.scrollNum||1;this.offset=a.offset;this.step=a.step;this.pagination=baidu.dom.query(".slide-pagination-item",b);this.content=baidu.dom.query(".slide-list",b)[0];this.items=baidu.dom.query(".slide-list-item",b);this.contentWidth=a.contentWidth||this.offset*this.items.length/this.scrollNum;this.length=this.items.length||this.contentWidth/this.offset;this.prev=baidu.dom.query(".slide-pagination-prev",b)[0];this.next=baidu.dom.query(".slide-pagination-next",b)[0];this.currentPage=0;this.currentPageStyle=a.current||"current";this.curPos=0;this.timer=null;this.state=0;this.circle=a.circle;this.cache=null;this.len=1;this.counter=0};slide.prototype={move:function(b,a){var d=this;if(b){this.dir=b}if(a){this.len=a}if(this.counter==this.speed){if(this.timer){clearTimeout(this.timer)}this.dir=="left"?this.currentPage-=this.len:this.currentPage+=this.len;this.state=0;this.counter=0;this.curPos=parseInt(this.content.style.left);return}if(this.dir=="left"){if(this.curPos==0){if(this.timer){clearTimeout(this.timer)}this.circle&&this.goEnd(Math.abs(c));return}this.counter++}if(this.dir=="right"){if(Math.abs(this.curPos)>=d.contentWidth-d.offset&&this.len==1){if(this.timer){clearTimeout(this.timer)}this.circle&&this.goHead();return}this.counter++}this.state=1;dis=this.dir=="right"?this.curPos-this.counter*this.offset/this.speed:this.curPos+this.counter*this.offset/this.speed;this.content.style.left=dis+"px";if(this.timer){clearTimeout(this.timer)}this.timer=setTimeout(function(){d.move()},10);return this},moveTo:function(b){var a=Math.abs(this.currentPage-b);this.cache=[this.step,this.offset];if(a!=0){this.offset=this.offset*a;this.step=this.step*a}this.currentPage>b?this.move("left",a):this.move("right",a);return this},goHead:function(){this.moveTo(0);return this},goEnd:function(a){this.moveTo(this.length-1);return this},setPagePos:function(){var a=this;baidu.each(a.pagination,function(b){baidu.dom.removeClass(b,a.currentPageStyle)});baidu.dom.addClass(a.pagination[a.currentPage],a.currentPageStyle);return this},init:function(){var a=this;baidu.dom.setStyles(a.content,{left:0,width:a.contentWidth});baidu.event.on(a.prev,"click",function(){if(a.state==1){return}a.move("left",1)});baidu.event.on(a.next,"click",function(){if(a.state==1){return}a.move("right",1)});return this}};